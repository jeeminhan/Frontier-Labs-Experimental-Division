---
export const prerender = false;
import '../styles/global.css'
import defaultPrototypes from '../data/prototypes.json'
import { list } from '@vercel/blob'

let prototypes = defaultPrototypes as Record<string, any>;
try {
  const { blobs } = await list({ prefix: 'prototypes.json' });
  if (blobs.length > 0) {
    const res = await fetch(blobs[0].url, { cache: 'no-store' });
    prototypes = await res.json();
  }
} catch {
  // Blob store not available (local dev) — use default JSON
}
---

<html class="light" lang="en">
	<head>
		<meta charset="utf-8" />
		<meta content="width=device-width, initial-scale=1.0" name="viewport" />
		<title>Frontier Labs</title>
		<meta name="generator" content={Astro.generator} />
		<link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@300;400;500;700;900&display=swap" rel="stylesheet" />
		<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet" />
	</head>
	<body class="bg-background-light dark:bg-background-dark text-stone-900 dark:text-stone-100 min-h-screen">
		<div class="relative flex min-h-screen flex-col overflow-x-hidden">

			<!-- Top Navigation -->
			<header class="sticky top-0 z-50 bg-background-light/95 dark:bg-background-dark/95 border-b-4 border-black backdrop-blur-sm">
				<div class="max-w-[1440px] mx-auto px-4 md:px-6 py-4 flex items-center justify-between">
					<div class="flex items-center gap-4 md:gap-8">
						<a href="/" class="flex items-center gap-2 group cursor-pointer no-underline text-inherit">
							<div class="bg-primary p-1 brutalist-border">
								<span class="material-symbols-outlined text-white text-xl md:text-2xl">terminal</span>
							</div>
							<div><h1 class="text-lg md:text-2xl font-[400] tracking-tighter uppercase italic leading-none">Frontier Labs</h1><p class="text-[8px] md:text-[9px] font-black uppercase tracking-[0.15em] text-stone-400 ml-[2px]">Experimental Division</p></div>
						</a>
						<nav class="hidden md:flex items-center gap-6">
							<a class="text-sm font-bold hover:text-primary transition-colors uppercase tracking-widest underline decoration-2 underline-offset-4 decoration-primary" href="/">Home</a>
							<a class="text-sm font-bold hover:text-primary transition-colors uppercase tracking-widest" href="/lab-notes">About Us</a>
						</nav>
					</div>
					<div class="flex items-center gap-2 md:gap-4">
						<a href="#about" class="md:hidden text-xs font-black uppercase tracking-widest hover:text-primary underline decoration-2 underline-offset-4 decoration-accent-magenta">
							About Us
						</a>
						<button onclick="openConnectModal()" class="bg-primary text-white font-black px-4 md:px-6 py-2 brutalist-border shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] md:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-x-[2px] active:translate-y-[2px] transition-all uppercase tracking-tighter text-xs md:text-base">
							Connect
						</button>
					</div>
				</div>
			</header>

			<main class="flex-1 max-w-[1440px] mx-auto w-full">

				<!-- Main Content Area -->
				<section class="p-6 md:p-10">


					<!-- Mission Section -->
					<div class="mb-12 pb-12 border-b-4 border-black">
						<div class="flex flex-col md:flex-row gap-12">
							<div class="flex-1">
								<h3 class="text-4xl md:text-5xl font-black uppercase tracking-tighter leading-none mb-8">
									Fail Fast, <span class="bg-primary text-white px-2 italic">Build Faster</span>
								</h3>
								<div class="space-y-6 text-lg font-medium text-stone-600 dark:text-stone-400">
									<p>
										Frontier Labs builds paper airplanes — we take off before we're "ready," learn from every crash landing, and iterate until something flies. Every digital tool and resource is a <span class="text-stone-900 dark:text-stone-100 font-bold">rapid experiment</span> in ministry engagement.
									</p>
									<p>
										We aim to move students from guests to disciples to missional partners — one prototype at a time.
									</p>
								</div>
							</div>
							<div class="w-full md:w-80 bg-white dark:bg-stone-800 brutalist-border p-6 shadow-[8px_8px_0px_0px_#ff006e]">
								<span class="material-symbols-outlined text-accent-magenta text-4xl mb-4">lightbulb</span>
								<p class="text-sm font-black uppercase tracking-widest mb-2 italic">Build the Plane in the Air.</p>
								<p class="text-xs font-medium text-stone-500 leading-relaxed text-left">
									"If it is worth doing, it is worth doing poorly." — Dr. Ralph Winter
								</p>
							</div>
						</div>
					</div>

					<!-- List of Prototypes -->
					<div class="flex flex-col gap-4">

						<!-- Item 1 (Featured): ISM Primer -->
						<div class="group bg-white dark:bg-stone-800 brutalist-border p-4 md:p-6 flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6 hover:shadow-[8px_8px_0px_0px_#00f0ff] transition-all border-t-4 border-cyan-400">
							<p class="text-[9px] font-black uppercase tracking-[0.2em] text-cyan-500 mb-3 w-full lg:hidden">★ Key_Resource</p>
							<div class="flex gap-6 items-center">
								<button onclick="openProtoModal('ism-primer')" class="size-16 brutalist-border overflow-hidden shrink-0 block cursor-pointer">
									<img src="/ISM-Primer-icon.png" class="w-full h-full object-cover transition-transform group-hover:scale-110" alt="ISM Primer Document" />
								</button>
								<div>
									<div class="flex items-center flex-wrap gap-x-3 gap-y-1 mb-1">
										<button onclick="openProtoModal('ism-primer')" class="text-xl font-[900] uppercase tracking-tighter hover:text-primary transition-colors text-left">ISM_Primer</button>
										<span class="hidden lg:inline text-[9px] font-black uppercase tracking-[0.2em] text-cyan-500">★ Key_Resource</span>
									</div>
									<p class="text-sm font-medium text-stone-500">Next Gen Mobilization Guide — Issue 1, January 2026.</p>
								</div>
							</div>
							<div class="flex items-center gap-4">
								<div class="flex flex-wrap gap-2">
									<button onclick="openProtoModal('ism-primer','video')" class="inline-flex items-center gap-1 px-3 py-1.5 bg-accent-blue text-white text-[10px] font-black uppercase tracking-widest brutalist-border shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px] transition-all">
										<span class="material-symbols-outlined text-sm">play_circle</span>
										Video Overview
									</button>
									<button onclick="openProtoModal('ism-primer','feedback')" class="inline-flex items-center gap-1 px-3 py-1.5 bg-primary text-white text-[10px] font-black uppercase tracking-widest brutalist-border shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px] transition-all">
										<span class="material-symbols-outlined text-sm">rate_review</span>
										Feedback Form
									</button>
								</div>
							</div>
						</div>

						<!-- Item 2: Common Lore -->
						<div class="group bg-white dark:bg-stone-800 brutalist-border p-4 md:p-6 flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6 hover:shadow-[8px_8px_0px_0px_#4057c4] transition-all">
							<div class="flex gap-6 items-center">
								<button onclick="openProtoModal('common-lore')" class="size-16 brutalist-border overflow-hidden shrink-0 block cursor-pointer">
									<img src="/common-lore-icon.jpg" class="w-full h-full object-cover transition-transform group-hover:scale-110" alt="Common Lore Cards" />
								</button>
								<div>
									<div class="flex items-center flex-wrap gap-x-3 gap-y-1 mb-1">
										<button onclick="openProtoModal('common-lore')" class="text-xl font-[900] uppercase tracking-tighter transition-colors hover:text-primary text-left">Common_Lore</button>
									</div>
									<p class="text-sm font-medium text-stone-500">Icebreaker card game for cross-cultural friendships.</p>
								</div>
							</div>
							<div class="flex items-center gap-4">
								<div class="flex flex-wrap gap-2">
									<button onclick="openProtoModal('common-lore','video')" class="inline-flex items-center gap-1 px-3 py-1.5 bg-accent-blue text-white text-[10px] font-black uppercase tracking-widest brutalist-border shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px] transition-all">
										<span class="material-symbols-outlined text-sm">play_circle</span>
										Video Overview
									</button>
									<button onclick="openProtoModal('common-lore','feedback')" class="inline-flex items-center gap-1 px-3 py-1.5 bg-primary text-white text-[10px] font-black uppercase tracking-widest brutalist-border shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px] transition-all">
										<span class="material-symbols-outlined text-sm">rate_review</span>
										Feedback Form
									</button>
								</div>
							</div>
						</div>

						<!-- Item 3: Global Atlas -->
						<div class="group bg-white dark:bg-stone-800 brutalist-border p-4 md:p-6 flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6 hover:shadow-[8px_8px_0px_0px_#aa1da1] transition-all">
							<div class="flex gap-6 items-center">
								<button onclick="openProtoModal('global-atlas')" class="size-16 brutalist-border overflow-hidden shrink-0 block cursor-pointer">
									<img src="/global-atlas-icon.jpg" class="w-full h-full object-cover transition-transform group-hover:scale-110" alt="Global Atlas Map" />
								</button>
								<div>
									<div class="flex items-center flex-wrap gap-x-3 gap-y-1 mb-1">
										<button onclick="openProtoModal('global-atlas')" class="text-xl font-[900] uppercase tracking-tighter hover:text-accent-magenta transition-colors text-left">Global_Atlas</button>
									</div>
									<p class="text-sm font-medium text-stone-500">Interactive scavenger hunt to help start conversations.</p>
								</div>
							</div>
							<div class="flex items-center gap-4">
								<div class="flex flex-wrap gap-2">
									<button onclick="openProtoModal('global-atlas','video')" class="inline-flex items-center gap-1 px-3 py-1.5 bg-accent-blue text-white text-[10px] font-black uppercase tracking-widest brutalist-border shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px] transition-all">
										<span class="material-symbols-outlined text-sm">play_circle</span>
										Video Overview
									</button>
									<button onclick="openProtoModal('global-atlas','feedback')" class="inline-flex items-center gap-1 px-3 py-1.5 bg-primary text-white text-[10px] font-black uppercase tracking-widest brutalist-border shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px] transition-all">
										<span class="material-symbols-outlined text-sm">rate_review</span>
										Feedback Form
									</button>
								</div>
							</div>
						</div>

						<!-- Item 4: Trust Engine -->
						<div class="group bg-white dark:bg-stone-800 brutalist-border p-4 md:p-6 flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6 hover:shadow-[8px_8px_0px_0px_#4361ee] transition-all">
							<div class="flex gap-6 items-center">
								<button onclick="openProtoModal('trust-engine')" class="size-16 brutalist-border overflow-hidden shrink-0 cursor-pointer bg-black flex items-center justify-center">
									<span class="material-symbols-outlined text-white text-3xl">security</span>
								</button>
								<div>
									<div class="flex items-center flex-wrap gap-x-3 gap-y-1 mb-1">
										<button onclick="openProtoModal('trust-engine')" class="text-xl font-[900] uppercase tracking-tighter hover:text-primary transition-colors text-left">Mujin</button>
									</div>
									<p class="text-sm font-medium text-stone-500">Relational trust-building framework for cross-cultural discipleship.</p>
								</div>
							</div>
							<div class="flex items-center gap-4">
								<div class="flex flex-wrap gap-2">
									<button onclick="openProtoModal('trust-engine','video')" class="inline-flex items-center gap-1 px-3 py-1.5 bg-accent-blue text-white text-[10px] font-black uppercase tracking-widest brutalist-border shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px] transition-all">
										<span class="material-symbols-outlined text-sm">play_circle</span>
										Video Overview
									</button>
									<button onclick="openProtoModal('trust-engine','feedback')" class="inline-flex items-center gap-1 px-3 py-1.5 bg-primary text-white text-[10px] font-black uppercase tracking-widest brutalist-border shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px] transition-all">
										<span class="material-symbols-outlined text-sm">rate_review</span>
										Feedback Form
									</button>
								</div>
							</div>
						</div>

						<!-- Item 4: Shock-o-poly -->
						<div class="group bg-stone-100 dark:bg-stone-900 brutalist-border p-4 md:p-6 flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6 opacity-60 grayscale cursor-not-allowed">
							<div class="flex gap-6 items-center">
								<div class="size-16 bg-black brutalist-border flex items-center justify-center shrink-0 overflow-hidden">
									<span class="material-symbols-outlined text-white text-3xl">casino</span>
								</div>
								<div>
									<div class="flex items-center flex-wrap gap-x-3 gap-y-1 mb-1">
										<h3 class="text-xl font-[900] uppercase tracking-tighter">Shock-o-poly</h3>
										<div class="flex items-center gap-2">
											<div class="size-3 bg-orange-500 rounded-full animate-pulse"></div>
											<span class="text-[10px] font-black uppercase tracking-widest">_dev</span>
										</div>
									</div>
									<p class="text-sm font-medium text-stone-500">Monopoly variant for ISM storytelling & feedback testing workshops.</p>
								</div>
							</div>
							<div class="flex items-center gap-4">
								<div class="flex flex-wrap gap-2">
									<button disabled class="inline-flex items-center gap-1 px-3 py-1.5 bg-stone-300 text-stone-500 text-[10px] font-black uppercase tracking-widest brutalist-border cursor-not-allowed">
										<span class="material-symbols-outlined text-sm">rate_review</span>
										Feedback
									</button>
									<button disabled class="inline-flex items-center gap-1 px-3 py-1.5 bg-stone-300 text-stone-500 text-[10px] font-black uppercase tracking-widest brutalist-border cursor-not-allowed">
										<span class="material-symbols-outlined text-sm">slideshow</span>
										Slides
									</button>
									<button disabled class="inline-flex items-center gap-1 px-3 py-1.5 bg-stone-300 text-stone-500 text-[10px] font-black uppercase tracking-widest brutalist-border cursor-not-allowed">
										<span class="material-symbols-outlined text-sm">play_circle</span>
										Video
									</button>
								</div>
							</div>
						</div>
					</div>
	

				<!-- About Us Content -->
				<div id="about" class="grid grid-cols-1 md:grid-cols-12 gap-10 mt-24 pt-12 border-t-4 border-black">
					<!-- Left Column: Core Values -->
					<div class="md:col-span-8 flex flex-col gap-12">
						<div class="group">
							<h3 class="text-3xl font-black uppercase tracking-tighter mb-4 flex items-center gap-3">
								<span class="text-primary">Build</span> the Paper Plane in the Air
							</h3>
							<p class="text-lg text-stone-600 dark:text-stone-400 leading-relaxed mb-6">
								We don't wait for perfect conditions. We prototype fast, test with real people, and iterate on what sticks. A card game about Scripture? Ship it. A board game about global missions? Build it this weekend. The runway is short, so we take off before we're "ready."
							</p>
							<div class="bg-stone-100 dark:bg-stone-900/50 p-6 brutalist-border border-dashed">
								<p class="text-[10px] font-mono text-stone-500 uppercase mb-2">// Prototype_Cycle: 1-Month Sprints</p>
								<p class="text-sm italic text-stone-500">"If it is worth doing, it is worth doing poorly." — Dr. Ralph Winter</p>
							</div>
						</div>

						<div class="group">
							<h3 class="text-3xl font-black uppercase tracking-tighter mb-4 flex items-center gap-3">
								<span class="text-accent-magenta">Learn</span> From the Wreckage
							</h3>
							<p class="text-lg text-stone-600 dark:text-stone-400 leading-relaxed mb-6">
								Every failed prototype teaches us something a strategy doc never could. We play-test engagement cards at dinner tables. We watch students react to Shock-o-poly in real time. We track what sparks conversation and what falls flat — then we rebuild.
							</p>
							<div class="bg-stone-100 dark:bg-stone-900/50 p-6 brutalist-border border-dashed">
								<p class="text-[10px] font-mono text-stone-500 uppercase mb-2">// Failure_Log: Indexed & Celebrated</p>
								<p class="text-sm italic text-stone-500">"We don't have post-mortems. We have post-flights." — Frontier Ethos</p>
							</div>
						</div>

						<div class="group">
							<h3 class="text-3xl font-black uppercase tracking-tighter mb-4 flex items-center gap-3">
								<span class="text-accent-blue">Make</span> It Real, Make It Felt
							</h3>
							<p class="text-lg text-stone-600 dark:text-stone-400 leading-relaxed mb-6">
								Ministry isn't a PDF. It's a conversation over a card game. It's a student pointing at a map and saying "that's my country." We build tangible, touchable, playable tools that create genuine human connection — because that's where transformation happens.
							</p>
						</div>
					</div>

					<!-- Right Column: Sidebar Stats -->
					<div class="md:col-span-4 flex flex-col gap-6">
						<div class="bg-black text-white p-8 brutalist-border shadow-[8px_8px_0px_0px_rgba(67,97,238,1)]">
							<h4 class="text-xl font-black uppercase italic mb-6 text-primary">Lab Stats</h4>
							<div class="flex flex-col gap-4">
								<div class="border-b border-stone-800 pb-2">
									<p class="text-[10px] uppercase text-stone-500 font-black">Active Prototypes</p>
									<p class="text-2xl font-black">4</p>
								</div>
								<div class="border-b border-stone-800 pb-2">
									<p class="text-[10px] uppercase text-stone-500 font-black">Sprint Cycle</p>
									<p class="text-2xl font-black">Sprint 02 <span class="text-xs font-normal text-stone-500">(1-Month Cadence)</span></p>
								</div>
								<div class="border-b border-stone-800 pb-2">
									<p class="text-[10px] uppercase text-stone-500 font-black">Play-Tests Run</p>
									<p class="text-2xl font-black">12+</p>
								</div>
							</div>
						</div>
					</div>
				</div>

				<!-- Visual Break -->
				<section class="mt-20 py-20 border-y-4 border-black bg-accent-blue/10 flex flex-col items-center justify-center text-center overflow-hidden relative">
					<div class="absolute inset-0 opacity-10 pointer-events-none">
						<div class="grid grid-cols-12 h-full w-full">
							{Array.from({ length: 48 }).map(() => (
								<div class="border border-black aspect-square"></div>
							))}
						</div>
					</div>
					<h3 class="text-4xl md:text-6xl font-[900] uppercase tracking-tighter mb-8 max-w-4xl relative z-10">
						We build <span class="bg-black text-white px-4 py-1 italic">digital airplanes mid-flight</span> for the Kingdom.
					</h3>
					<button onclick="openConnectModal()" class="bg-primary text-white font-black px-10 py-5 brutalist-border shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-x-[4px] active:translate-y-[4px] transition-all uppercase tracking-tighter text-xl relative z-10">
						Connect
					</button>
				</section>
				</section>

			</main>

			<!-- Footer -->
			<footer class="bg-black text-white py-12 px-6 border-t-4 border-accent-blue">
				<div class="max-w-[1440px] mx-auto flex flex-col md:flex-row justify-between items-start gap-12">
					<div class="max-w-xs">
						<h2 class="text-2xl font-[900] tracking-tighter uppercase italic mb-1">Frontier Labs</h2><p class="text-[9px] font-black uppercase tracking-[0.15em] text-stone-500 ml-[2px] mb-4">Experimental Division</p>
						<p class="text-stone-400 text-sm font-medium">Innovating the mobilization journey for International Student Ministry through cultural engagement tools and digital-first frameworks.</p>
					</div>
					<div class="grid grid-cols-2 sm:grid-cols-3 gap-12">
						<div class="flex flex-col gap-3">
							<p class="text-xs font-black uppercase text-primary tracking-widest">Social</p>
							<del class="text-sm font-bold text-stone-500">GitHub</del>
							<del class="text-sm font-bold text-stone-500">Twitter</del>
							<del class="text-sm font-bold text-stone-500">Discord</del>
						</div>
						<div class="flex flex-col gap-3">
							<p class="text-xs font-black uppercase text-primary tracking-widest">Legal</p>
							<a class="text-sm font-bold hover:text-stone-300 transition-colors" href="#">Privacy</a>
							<a class="text-sm font-bold hover:text-stone-300 transition-colors" href="#">Terms</a>
							<a class="text-sm font-bold hover:text-stone-300 transition-colors" href="#">License</a>
						</div>
						<div class="flex flex-col gap-3">
							<p class="text-xs font-black uppercase text-primary tracking-widest">Terminal</p>
							<p class="text-[10px] font-mono text-stone-500">System: Stable</p>
							<p class="text-[10px] font-mono text-stone-500">Nodes: 128 Active</p>
						</div>
					</div>
				</div>
				<div class="max-w-[1440px] mx-auto mt-12 pt-8 border-t border-stone-800 text-center md:text-left">
					<p class="text-[10px] font-black uppercase tracking-widest text-stone-600">&copy; 2025 Frontier Labs Experimental Division. All rights reserved.</p>
				</div>
			</footer>

		</div>

		<!-- Connect Modal -->
		<div id="connect-modal" class="fixed inset-0 z-[100] flex items-center justify-center p-4 hidden">
			<div onclick="closeConnectModal()" class="absolute inset-0 bg-black/80 backdrop-blur-sm"></div>
			<div class="relative bg-background-light dark:bg-stone-900 brutalist-border shadow-[8px_8px_0px_0px_rgba(67,97,238,1)] w-full max-w-2xl max-h-[90vh] overflow-y-auto">
				<div class="flex items-center justify-between p-6 border-b-4 border-black">
					<h2 class="text-3xl font-[900] uppercase tracking-tighter">Connect</h2>
					<button onclick="closeConnectModal()" class="brutalist-border p-1 hover:bg-black hover:text-white transition-colors">
						<span class="material-symbols-outlined">close</span>
					</button>
				</div>
				<div class="p-6 flex flex-col gap-6">
					<div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
						<div class="bg-white dark:bg-stone-800 brutalist-border p-5 flex flex-col gap-4 opacity-60">
							<div class="size-10 bg-stone-200 dark:bg-stone-700 brutalist-border flex items-center justify-center"><span class="material-symbols-outlined text-stone-500">code</span></div>
							<div><h3 class="text-sm font-black uppercase tracking-tighter mb-1 line-through italic">Repository_Uplink</h3><p class="text-xs font-medium text-stone-500">Direct access to the codebase and active commits.</p></div>
							<div class="mt-auto pt-3 border-t border-stone-200 dark:border-stone-700"><span class="text-[10px] font-black uppercase tracking-widest text-stone-400">Status: Offline</span></div>
						</div>
						<div class="bg-white dark:bg-stone-800 brutalist-border p-5 flex flex-col gap-4 opacity-60">
							<div class="size-10 bg-stone-200 dark:bg-stone-700 brutalist-border flex items-center justify-center"><span class="material-symbols-outlined text-stone-500">forum</span></div>
							<div><h3 class="text-sm font-black uppercase tracking-tighter mb-1 line-through italic">Lab_Comms</h3><p class="text-xs font-medium text-stone-500">Real-time sync with other researchers and engineers.</p></div>
							<div class="mt-auto pt-3 border-t border-stone-200 dark:border-stone-700"><span class="text-[10px] font-black uppercase tracking-widest text-stone-400">Status: Disconnected</span></div>
						</div>
						<a href="mailto:j.han@frontiercommons.org" class="group bg-white dark:bg-stone-800 brutalist-border p-5 flex flex-col gap-4 hover:shadow-[4px_4px_0px_0px_#4361ee] transition-all no-underline text-inherit">
							<div class="size-10 bg-primary brutalist-border flex items-center justify-center"><span class="material-symbols-outlined text-white">mail</span></div>
							<div><h3 class="text-sm font-black uppercase tracking-tighter mb-1 group-hover:text-primary">Mail</h3><p class="text-xs font-medium text-stone-500">Connect with us through email.</p></div>
							<div class="mt-auto pt-3 border-t border-stone-200 dark:border-stone-700 flex items-center justify-between"><span class="text-[10px] font-black uppercase tracking-widest text-primary">Status: Active</span><span class="material-symbols-outlined text-primary group-hover:translate-x-1 transition-transform">arrow_forward</span></div>
						</a>
					</div>
					<div class="bg-stone-100 dark:bg-stone-800 brutalist-border p-6 relative overflow-hidden">
						<div class="absolute top-0 right-0 p-3 opacity-10 pointer-events-none"><span class="material-symbols-outlined text-8xl">biotech</span></div>
						<h3 class="text-lg font-black uppercase tracking-tighter mb-4 relative z-10">Mission</h3>
						<div class="space-y-3 text-sm font-medium text-stone-600 dark:text-stone-400 leading-relaxed relative z-10">
							<p>Frontier Labs is the innovation space for Frontier Commons.</p>
							<p>We bridge the gap between traditional mobilization and the next generation of missionaries in the ISM world. Our focus is on creating digital-first engagement tools, platforms and resources to move Christian students from guests to disciples to missional partners.</p>
						</div>
					</div>
				</div>
			</div>
		</div>

		<script is:inline>
			function openConnectModal() {
				document.getElementById("connect-modal").classList.remove("hidden");
				document.body.style.overflow = "hidden";
			}
			function closeConnectModal() {
				document.getElementById("connect-modal").classList.add("hidden");
				document.body.style.overflow = "";
			}
			document.addEventListener("keydown", e => { if (e.key === "Escape") closeConnectModal(); });
		</script>

		<!-- Prototype Modal -->
		<div id="proto-modal" class="fixed inset-0 z-[100] flex items-center justify-center p-3 sm:p-6 hidden">
			<div onclick="closeProtoModal()" class="absolute inset-0 bg-black/80 backdrop-blur-sm"></div>
			<div class="relative w-full max-w-5xl h-full flex flex-col brutalist-border shadow-[4px_4px_0px_0px_rgba(67,97,238,1)] sm:shadow-[8px_8px_0px_0px_rgba(67,97,238,1)]">
				<div class="bg-black flex flex-col flex-1 min-h-0 overflow-hidden">
					<div class="bg-stone-900 border-b-2 border-black px-3 py-2 flex items-center justify-between shrink-0">
						<div class="flex items-center gap-2 min-w-0">
							<div class="flex items-center gap-1.5 shrink-0">
								<div class="size-3 rounded-full bg-red-500 border border-red-700"></div>
								<div class="size-3 rounded-full bg-yellow-500 border border-yellow-700"></div>
								<div class="size-3 rounded-full bg-green-500 border border-green-700"></div>
							</div>
							<div class="flex items-center gap-2 bg-stone-800 brutalist-border px-3 py-1 ml-1 min-w-0">
								<span id="proto-url-icon" class="material-symbols-outlined text-stone-500 text-sm shrink-0">lock</span>
								<span id="proto-url-text" class="text-[11px] font-mono text-stone-400 truncate max-w-[160px] sm:max-w-[260px]"></span>
							</div>
						</div>
						<div class="flex items-center gap-1 shrink-0 ml-2">
							<a id="proto-ext-link" href="#" target="_blank" rel="noopener noreferrer" class="text-stone-500 hover:text-white transition-colors no-underline" title="Open full site">
								<span class="material-symbols-outlined text-lg">open_in_new</span>
							</a>
							<button onclick="window.closeProtoModal()" class="text-stone-500 hover:text-white transition-colors" title="Close">
								<span class="material-symbols-outlined text-lg">close</span>
							</button>
						</div>
					</div>
					<div id="proto-tabs" class="flex bg-stone-950 border-b-2 border-black overflow-x-auto shrink-0"></div>
					<iframe id="proto-frame" src="about:blank" width="100%"
						class="border-0 block bg-white flex-1" style="min-height: 0;"></iframe>
				</div>
			</div>
		</div>

		<script define:vars={{ protoData: prototypes }}>
			const PROTO_META = {
				"ism-primer": {
					title: "ISM Primer", badge: "Document",
					badgeClass: "bg-blue-100 text-blue-700 border-blue-700",
					displayUrl: "ISM Primer — JAN 2026", urlIcon: "description",
					extText: "Open in Drive",
					toPreview: function(url) { return url.replace(/\/view(\?[^#]*)?$/, "/preview"); }
				},
				"common-lore": {
					title: "Common Lore", badge: "Stable",
					badgeClass: "bg-green-100 text-green-700 border-green-700",
					displayUrl: "common-lore.vercel.app", urlIcon: "lock",
					extText: "Open Full Site",
					toPreview: function(url) { return url; }
				},
				"global-atlas": {
					title: "Global Atlas", badge: "In-Dev",
					badgeClass: "bg-orange-100 text-orange-700 border-orange-700",
					displayUrl: "global-atlas-plum.vercel.app", urlIcon: "lock",
					extText: "Open Full Site",
					toPreview: function(url) { return url; }
				},
				"trust-engine": {
					title: "Mujin", badge: "In-Dev",
					badgeClass: "bg-orange-100 text-orange-700 border-orange-700",
					displayUrl: "mujin20.vercel.app", urlIcon: "lock",
					extText: "Open Full Site",
					toPreview: function(url) { return url; }
				}
			};

			window.openProtoModal = function(key, tab) {
				tab = tab || "prototype";
				var links = protoData[key];
				var meta = PROTO_META[key];
				if (!links || !meta) return;

								document.getElementById("proto-url-icon").textContent = meta.urlIcon;
				document.getElementById("proto-url-text").textContent = meta.displayUrl;
						document.getElementById("proto-ext-link").href = links.prototypeUrl;

				var tabDefs = [
					{ id: "prototype", label: "Prototype", icon: "web", url: links.prototypeUrl },
					{ id: "feedback", label: "Feedback", icon: "rate_review", url: links.feedbackUrl },
					{ id: "video", label: "Video", icon: "play_circle", url: links.videoUrl }
				].filter(function(td) { return !!td.url; });

				var tabUrl = tab === "feedback" ? links.feedbackUrl : tab === "video" ? links.videoUrl : links.prototypeUrl;
				if (!tabUrl) tab = "prototype";

				var tabsEl = document.getElementById("proto-tabs");
				tabsEl.innerHTML = tabDefs.map(function(td) {
					var active = td.id === tab;
					return '<button data-tab="' + td.id + '" data-url="' + td.url + '" class="proto-tab flex items-center gap-1 px-3 sm:px-4 py-2 text-[10px] font-black uppercase tracking-widest border-r border-stone-700 shrink-0 transition-colors ' + (active ? 'text-white bg-stone-800' : 'text-stone-500 hover:text-stone-300') + '"><span class="material-symbols-outlined text-sm hidden sm:inline">' + td.icon + '</span> ' + td.label + '</button>';
				}).join("");

				tabsEl.querySelectorAll(".proto-tab").forEach(function(btn) {
					btn.addEventListener("click", function() {
						tabsEl.querySelectorAll(".proto-tab").forEach(function(b) {
							b.classList.remove("bg-stone-800", "text-white");
							b.classList.add("text-stone-500");
						});
						btn.classList.add("bg-stone-800", "text-white");
						btn.classList.remove("text-stone-500");
						var src = meta.toPreview(btn.dataset.url);
						document.getElementById("proto-frame").src = src;
						document.getElementById("proto-ext-link").href = btn.dataset.url;
					});
				});

				var initUrl = tab === "prototype" ? links.prototypeUrl : tab === "feedback" ? links.feedbackUrl : links.videoUrl;
				document.getElementById("proto-frame").src = meta.toPreview(initUrl || links.prototypeUrl);

				document.getElementById("proto-modal").classList.remove("hidden");
				document.body.style.overflow = "hidden";
			}

			window.closeProtoModal = function() {
				document.getElementById("proto-modal").classList.add("hidden");
				document.getElementById("proto-frame").src = "about:blank";
				document.body.style.overflow = "";
			}

			document.addEventListener("keydown", function(e) {
				if (e.key === "Escape") window.closeProtoModal();
			});
		</script>
	</body>
</html>
